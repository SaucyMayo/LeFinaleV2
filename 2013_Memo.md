# 2013 Computer Science 244 - Semester Test 2 Memo

**Date:** 2013-11-18 | **Examiner:** Willem Bester

---

## Comprehensive Solutions

### Quick Reference Answers

**Multiple Choice:**
- Stack pointer: Modified by call/push/pop/ret, NOT by cmp/test
- Mic-1 ALU: H = MDR - H impossible (operand order constraint)
- Proportional allocation: (process_pages / total_pages) × total_frames
- RAW dependency: True data dependency (must preserve order)
- Second-chance (0,0): Best eviction (clean, unreferenced)

**ALU Control:**
- Addition: F0=F1=1, ena=1, inva=0, inc=0
- Increment: Same but inc=1
- Subtraction: inva=1, inc=1 (two's complement)
- Negation: ena=0, inva=1, inc=1

**Page Replacement Process:**
1. Start with empty frames
2. Each reference: Check if page in frame
3. If not: Page fault, load page, evict if needed
4. LRU: Evict least recently used
5. FIFO: Evict oldest (first loaded)
6. Count total faults

### Detailed Concept Explanations

**Mic-1 Architecture:**
- **Purpose:** Microarchitecture implementing ISA (IJVM)
- **Registers:** PC, SP, LV, CPP (architectural); MAR, MDR, MBR, TOS, OPC, H (internal)
- **Data path:** B bus (input), ALU, Shifter, C bus (output)
- **Control:** Microprogram in control store, MPC addresses microinstructions

**Pipelining:**
- **Stages:** Fetch, Decode, Execute, Memory, Writeback
- **Hazards:** 
  - Data (RAW, WAR, WAW)
  - Control (branches)
  - Structural (resource conflicts)
- **Solutions:** Forwarding, stalling, prediction

**Cache Memory:**
- **Temporal locality:** Recently used → likely used again
- **Spatial locality:** Nearby data → likely used together
- **Types:**
  - Direct-mapped: One location per block
  - Fully associative: Any location
  - Set-associative: N-way (compromise)

**Virtual Memory:**
- **Paging:** Fixed-size pages (4KB typical)
- **Segmentation:** Variable-size logical segments
- **TLB:** Fast translation cache
- **Page table:** Virtual → Physical mapping
- **Demand paging:** Lazy loading strategy

**File Systems:**
- **Unix inodes:**
  - 12 direct pointers (48KB)
  - 1 indirect (4MB)
  - 1 double indirect (4GB)
  - 1 triple indirect (4TB+)
- **Advantages:** Fast random access, supports large files
- **FAT:** Simpler but slower for large files

### Problem-Solving Strategies

**For Page Replacement:**
1. Draw frame table
2. Process references left to right
3. Mark each fault with 'F'
4. Apply replacement algorithm consistently
5. Double-check arithmetic

**For ALU Tables:**
1. Understand function composition
2. Addition: Both inputs active
3. Subtraction: Use two's complement (inva=1, inc=1)
4. Verify each row independently

**For Definitions:**
1. One sentence = concise but complete
2. Include key terms
3. Give example if space permits

Total: Variable marks (calculated out of 80)
